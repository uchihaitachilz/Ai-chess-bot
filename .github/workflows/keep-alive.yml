name: Keep Render Server Alive

on:
  schedule:
    # Runs every minute (minimum interval for GitHub Actions)
    # Note: Free accounts may have rate limits, but this should work
    - cron: '*/1 * * * *'
  workflow_dispatch:  # Allows manual triggering

jobs:
  ping:
    runs-on: ubuntu-latest
    steps:
      - name: Ping Render Server
        run: |
          # Replace with your actual Render server URL
          SERVER_URL="${SERVER_URL:-https://your-app-name.onrender.com}"
          curl -f "${SERVER_URL}/health" || echo "Ping failed (server may be waking up)"
        env:
          # Set this as a GitHub secret: Settings > Secrets > Actions > New repository secret
          # Name: SERVER_URL, Value: https://your-app-name.onrender.com
          SERVER_URL: ${{ secrets.RENDER_SERVER_URL }}
